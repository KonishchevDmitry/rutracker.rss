#!/usr/bin/env python

"""Shows blacklist rules."""

import sys

import pycl.main
from pycl.misc import to_unicode

from rutracker import blacklist


def main():
    """The script's main function."""

    pycl.main.set_environment()

    if len(sys.argv) != 1:
        sys.exit(u"Invalid argument: {arg}\nUsage: {command}".format(
            arg = to_unicode(sys.argv[1]), command = to_unicode(sys.argv[0])))

    for rule in blacklist.find():
        print u"{rule}{regex}".format(
            rule = rule["_id"], regex = " (regex)" if rule.get("regex", False) else "")


if __name__ == "__main__":
    main()
