#!/usr/bin/env python

"""Suggests torrents to ignore."""

import pycl.main
from pycl.cli.text_table import TextTable

import rutracker.torrents


def main():
    """The script's main function."""

    pycl.main.set_environment()

    torrents = rutracker.torrents.get_stats(blacklist = True)[:50]

    if torrents:
        table = TextTable()
        for torrent in torrents:
            table.add_row({
                "count": torrent["count"],
                "group": torrent["fingerprint"],
                "name":  torrent["name"],
            })
        table.draw([
            { "id": "count",  "name": "Count", "align": "right" },
            { "id": "group",  "name": "Group", "align": "left"  },
            { "id": "name",   "name": "Name",  "align": "left", "max_width": 80 },
        ])
    else:
        print "There is nothing to suggest."


if __name__ == "__main__":
    main()
